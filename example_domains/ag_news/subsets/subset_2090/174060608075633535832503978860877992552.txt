But the company's guidance for next year failed to top Wall Street's estimates, and its shares fell in after-hours trading.