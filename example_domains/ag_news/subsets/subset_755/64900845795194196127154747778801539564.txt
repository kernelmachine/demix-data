The DuPont Co. has agreed to pay up to \$340 million to settle a lawsuit that it contaminated water supplies in West Virginia and Ohio with a chemical used to make Teflon, one of its best-known brands.