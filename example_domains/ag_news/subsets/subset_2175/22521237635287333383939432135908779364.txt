American and Iraqi forces are almost entirely in control of Fallujah, after a week of fighting in which 38 American troops, six Iraqi soldiers and an estimated 1,200 insurgents have been killed.