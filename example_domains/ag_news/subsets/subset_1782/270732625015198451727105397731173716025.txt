When Jason Giambi admitted to a federal grand jury in San Francisco in December 2003 that he had taken steroids and human growth hormone, he had been granted immunity from prosecution if he told the truth but faced a perjury charge if he did not.