US transport group Kansas City Southern has agreed to buy a controlling stake in Mexico #39;s busiest railroad in a deal worth at least \$550 million, ending a bitter legal dispute with Mexican company TMM.