Twenty-three Palestinians and three Israelis were killed as Israel's army struck back after a rocket attack.