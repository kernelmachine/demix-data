Employers and unions have reached an agreement, resolving the long-running dispute over firefighters' pay.