Stuttgart suffered a surprise defeat at struggling neighbour Freiburg in the Bundesliga while Schalke won again, this time over Mainz.