Hewlett-Packard is returning to a software market where it suffered one of its worst defeats. But this time, the company has open-source software as its ally.