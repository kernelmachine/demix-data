The accounting firm KPMG has agreed to settle a shareholder lawsuit claiming the company failed in its audit of a software company which later collapsed.