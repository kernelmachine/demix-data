The Iraqi government says it has reached an agreement to end weeks of clashes in the Sadr City district of Baghdad between Shi #39;ite fighters and American forces.