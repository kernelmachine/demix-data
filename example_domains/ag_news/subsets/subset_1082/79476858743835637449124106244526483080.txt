Congress guaranteed the flow of Internet aid to schools and libraries and provided federal funds to upgrade emergency 911 services for calls from mobile phones in a communications bill approved Wednesday and sent to the president for his signature.