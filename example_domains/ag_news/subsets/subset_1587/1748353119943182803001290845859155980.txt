San Francisco investment bank Thomas Weisel Partners on Thursday agreed to pay \$12.5 million to settle allegations that some of the stock research the bank published during the Internet boom was tainted by conflicts of interest.