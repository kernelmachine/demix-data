Japan is to formally protest to China after saying a submarine found in its waters on Wednesday was Chinese.